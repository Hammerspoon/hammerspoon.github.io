<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hammerspoon docs: hs.fs</title>
    <style type="text/css">
      a { text-decoration: none; }
      a:hover { text-decoration: underline; }
      th { background-color: #DDDDDD; vertical-align: top; padding: 3px; }
      td { width: 100%; background-color: #EEEEEE; vertical-align: top; padding: 3px; }
      table { width: 100% ; border: 1px solid #0; text-align: left; }
      section > table table td { width: 0; }
    </style>
    <link rel="stylesheet" href="docs.css" type="text/css" media="screen" />
  </head>
  <body>
    <header>
      <h1><a href="./index.html">docs</a> &raquo; hs.fs</h1>
      <p>Access/inspect the filesystem</p>
<p>This module is partial superset of LuaFileSystem 1.8.0 (http://keplerproject.github.io/luafilesystem/). It has been modified to remove functions which do not apply to macOS filesystems and additional functions providing macOS specific filesystem information have been added.</p>

      </header>
        <h3>Submodules</h3>
        <ul>
        <li><a href="hs.fs.volume.html">hs.fs.volume</a></li>
        <li><a href="hs.fs.xattr.html">hs.fs.xattr</a></li>
        </ul>
      <h3>API Overview</h3>
      <ul>
        <li>Variables - Configurable values</li>
          <ul>
            <li><a href="#defaultPathListExcludes">defaultPathListExcludes</a></li>
          </ul>
        <li>Functions - API calls offered directly by the extension</li>
          <ul>
            <li><a href="#attributes">attributes</a></li>
            <li><a href="#chdir">chdir</a></li>
            <li><a href="#currentDir">currentDir</a></li>
            <li><a href="#dir">dir</a></li>
            <li><a href="#displayName">displayName</a></li>
            <li><a href="#fileListForPath">fileListForPath</a></li>
            <li><a href="#fileUTI">fileUTI</a></li>
            <li><a href="#fileUTIalternate">fileUTIalternate</a></li>
            <li><a href="#getFinderComments">getFinderComments</a></li>
            <li><a href="#link">link</a></li>
            <li><a href="#lock">lock</a></li>
            <li><a href="#lockDir">lockDir</a></li>
            <li><a href="#mkdir">mkdir</a></li>
            <li><a href="#pathFromBookmark">pathFromBookmark</a></li>
            <li><a href="#pathToAbsolute">pathToAbsolute</a></li>
            <li><a href="#pathToBookmark">pathToBookmark</a></li>
            <li><a href="#rmdir">rmdir</a></li>
            <li><a href="#setFinderComments">setFinderComments</a></li>
            <li><a href="#symlinkAttributes">symlinkAttributes</a></li>
            <li><a href="#tagsAdd">tagsAdd</a></li>
            <li><a href="#tagsGet">tagsGet</a></li>
            <li><a href="#tagsRemove">tagsRemove</a></li>
            <li><a href="#tagsSet">tagsSet</a></li>
            <li><a href="#temporaryDirectory">temporaryDirectory</a></li>
            <li><a href="#touch">touch</a></li>
            <li><a href="#unlock">unlock</a></li>
            <li><a href="#urlFromPath">urlFromPath</a></li>
          </ul>
      </ul>
      <h3>API Documentation</h3>
        <h4 class="documentation-section">Variables</h4>
          <section id="defaultPathListExcludes">
            <a name="//apple_ref/cpp/Variable/defaultPathListExcludes" class="dashAnchor"></a>
            <h5><a href="#defaultPathListExcludes">defaultPathListExcludes</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.defaultPathListExcludes -&gt; table</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Variable</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>A table containing the default list of patterns to ignore when using the <a href="#fileListForPath">hs.fs.fileListForPath</a>.</p>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/fs.lua#L153">extensions/fs/fs.lua line 153</a></td>
              </tr>
            </table>
          </section>
        <h4 class="documentation-section">Functions</h4>
          <section id="attributes">
            <a name="//apple_ref/cpp/Function/attributes" class="dashAnchor"></a>
            <h5><a href="#attributes">attributes</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.attributes(filepath [, aName]) -&gt; table or string or nil,error</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Gets the attributes of a file</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - A string containing the path of a file to inspect</li>
<li>aName - An optional attribute name. If this value is specified, only the attribute requested, is returned</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A table with the file attributes corresponding to filepath (or nil followed by an error message in case of error). If the second optional argument is given, then a string is returned with the value of the named attribute. attribute mode is a string, all the others are numbers, and the time related attributes use the same time reference of os.time:</li>
<li>dev - A number containing the device the file resides on</li>
<li>ino - A number containing the inode of the file</li>
<li>mode - A string containing the type of the file (possible values are: file, directory, link, socket, named pipe, char device, block device or other)</li>
<li>nlink - A number containing a count of hard links to the file</li>
<li>uid - A number containing the user-id of owner</li>
<li>gid - A number containing the group-id of owner</li>
<li>rdev - A number containing the type of device, for files that are char/block devices</li>
<li>access - A number containing the time of last access modification (as seconds since the UNIX epoch)</li>
<li>change - A number containing the time of last file status change (as seconds since the UNIX epoch)</li>
<li>modification - A number containing the time of the last file contents change (as seconds since the UNIX epoch)</li>
<li>permissions - A 9 character string specifying the user access permissions for the file. The first three characters represent Read/Write/Execute permissions for the file owner. The first character will be &quot;r&quot; if the user has read permissions, &quot;-&quot; if they do not; the second will be &quot;w&quot; if they have write permissions, &quot;-&quot; if they do not; the third will be &quot;x&quot; if they have execute permissions, &quot;-&quot; if they do not. The second group of three characters follow the same convention, but refer to whether or not the file's group have Read/Write/Execute permissions, and the final three characters follow the same convention, but apply to other system users not covered by the Owner or Group fields.</li>
<li>creation - A number containing the time the file was created (as seconds since the UNIX epoch)</li>
<li>size - A number containing the file size, in bytes</li>
<li>blocks - A number containing the number of blocks allocated for file</li>
<li>blksize - A number containing the optimal file system I/O blocksize</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li>This function uses <code>stat()</code> internally thus if the given filepath is a symbolic link, it is followed (if it points to another link the chain is followed recursively) and the information is about the file it refers to. To obtain information about the link itself, see function <code>hs.fs.symlinkAttributes()</code></li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L744">extensions/fs/libfs.m line 744</a></td>
              </tr>
            </table>
          </section>
          <section id="chdir">
            <a name="//apple_ref/cpp/Function/chdir" class="dashAnchor"></a>
            <h5><a href="#chdir">chdir</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.chdir(path) -&gt; true or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Changes the current working directory to the given path.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path - A string containing the path to change working directory to</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>If successful, returns true, otherwise returns nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L129">extensions/fs/libfs.m line 129</a></td>
              </tr>
            </table>
          </section>
          <section id="currentDir">
            <a name="//apple_ref/cpp/Function/currentDir" class="dashAnchor"></a>
            <h5><a href="#currentDir">currentDir</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.currentDir() -&gt; string or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Gets the current working directory</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>None</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A string containing the current working directory, or if an error occurred, nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L157">extensions/fs/libfs.m line 157</a></td>
              </tr>
            </table>
          </section>
          <section id="dir">
            <a name="//apple_ref/cpp/Function/dir" class="dashAnchor"></a>
            <h5><a href="#dir">dir</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.dir(path) -&gt; iter_fn, dir_obj, nil, dir_obj</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Creates an iterator for walking a filesystem path</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path - A string containing a directory to iterate</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>An iterator function</li>
<li>A data object to pass to the iterator function or an error message as a string</li>
<li><code>nil</code> as the initial argument for the iterator (unused and unnecessary in this case, but conforms to Lua spec for iterators). Ignore this value if you are not using this function with <code>for</code> (see Notes).</li>
<li>A second data object used by <code>for</code> to close the directory object immediately when the loop terminates. Ignore this value if you are not using this function with <code>for</code> (see Notes).</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li><p>Unlike most functions in this module, <code>hs.fs.dir</code> will throw a Lua error if the supplied path cannot be iterated.</p>
</li>
<li><p>The simplest way to use this function is with a <code>for</code> loop. When used in this manner, the <code>for</code> loop itself will take care of closing the directory stream for us, even if we break out of the loop early.</p>

<pre><code>   for file in hs.fs.dir(&quot;/Users/Guest/Documents&quot;) do
       print(file)
   end
</code></pre>
</li>
<li><p>It is also possible to use the dir_obj directly if you wish:</p>

<pre><code>   local iterFn, dirObj = hs.fs.dir(&quot;/Users/Guest/Documents&quot;)
   local file = dirObj:next() -- get the first file in the directory
   while (file) do
       print(file)
       file = dirObj:next() -- get the next file in the directory
   end
   dirObj:close() -- necessary to make sure that the directory stream is closed
</code></pre>
</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L475">extensions/fs/libfs.m line 475</a></td>
              </tr>
            </table>
          </section>
          <section id="displayName">
            <a name="//apple_ref/cpp/Function/displayName" class="dashAnchor"></a>
            <h5><a href="#displayName">displayName</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.displayName(filepath) -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the display name of the file or directory at a specified path.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - The path to the file or directory</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>a string containing the display name of the file or directory at a specified path; returns nil if no file with the specified path exists.</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L1028">extensions/fs/libfs.m line 1028</a></td>
              </tr>
            </table>
          </section>
          <section id="fileListForPath">
            <a name="//apple_ref/cpp/Function/fileListForPath" class="dashAnchor"></a>
            <h5><a href="#fileListForPath">fileListForPath</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.fileListForPath(path, [options]) -&gt; table, fileCount, dirCount</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns a table containing the paths to all of the files located at the specified path.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li><code>path</code>    - a string specifying the path to gather the files from. If this path specifies a file, then the return value is a table containing only this path. If the path specifies a directory, then the table contains the paths of all of the files found in the specified directory.</li>
<li><code>options</code> - an optional table with one or more key-value pairs determining how and what files are to be included in the table returned.<ul>
<li>The following keys are recognized: * <code>subdirs</code>        - a boolean, default false, indicating whether or not subdirectories should be descended into and examined for files as well. * <code>followSymlinks</code> - a boolean, default false, indicating whether or not symbolic links should be followed * <code>expandSymlinks</code> - a boolean, default false, specifying whether or not the real path of any files discovered after following a symbolic link should be included in the list (true) or whether the path added to the list should remain relative to the starting path (false). * <code>relativePath</code>   - a boolean, default false, specifying whether paths included in the result list should be relative to the starting path (true) or the full and complete path to the file (false). * <code>ignore</code>         - a table of strings, specifying regular expression matches for files to exclude from the result list. If not provided, this value will be inherited from the module's variable <a href="#defaultPathListExcludes">hs.fs.defaultPathListExcludes</a> which, by defualt, is set to ignore all files beginning with a period (often called dot-files). To include all files, set this option equal to the empty table (i.e. <code>{}</code>). * <code>except</code>         - a table of strings, default empty, specifying regular expression matches for files that match an <code>ignore</code> rule, but should be included anyways. For example, if this option is set to <code>{ &quot;^\\.gitignore$&quot; }</code>, then a file named <code>.gitignore</code> would be included, even though it would normally be excluded by the default <code>ignore</code> ruleset.</li>
</ul>
</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>a table containing the paths to the files discovered at the specified path. the number of files found, and the number of directories examined. Only files will be included in the results table-- directory names are not included in the resulting list. The table will be sorted as per the Objective-C NSString's <code>compare:</code> method.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li><code>ignore</code> and <code>except</code> options require the use of actual regular expressions, not the simplified pattern matching used by Lua. More details about the proper syntax for the strings to use in the tables of these options can be found at https://unicode-org.github.io/icu/userguide/strings/regexp.html.<ul>
<li>note that this function only checks to see if the regular expression returns a match for each filename found (not the path, just the filename component of the path). Any captures are ignored.</li>
</ul>
</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L1161">extensions/fs/libfs.m line 1161</a></td>
              </tr>
            </table>
          </section>
          <section id="fileUTI">
            <a name="//apple_ref/cpp/Function/fileUTI" class="dashAnchor"></a>
            <h5><a href="#fileUTI">fileUTI</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.fileUTI(path) -&gt; string or nil</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the Uniform Type Identifier for the file location specified.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path - the path to the file to return the UTI for.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>a string containing the Uniform Type Identifier for the file location specified or nil if an error occurred</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L940">extensions/fs/libfs.m line 940</a></td>
              </tr>
            </table>
          </section>
          <section id="fileUTIalternate">
            <a name="//apple_ref/cpp/Function/fileUTIalternate" class="dashAnchor"></a>
            <h5><a href="#fileUTIalternate">fileUTIalternate</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.fileUTIalternate(fileUTI, type) -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the fileUTI's equivalent form in an alternate type specification format.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>a string containing a file UTI, such as one returned by <code>hs.fs.fileUTI</code>.</li>
<li>a string specifying the alternate format for the UTI.  This string may be one of the following: * <code>extension</code>  - as a file extension, commonly used for platform independent file sharing when file metadata can't be guaranteed to be cross-platform compatible.  Generally considered unreliable when other file type identification methods are available.<ul>
<li><code>mime</code>       - as a mime-type, commonly used by Internet applications like web browsers and email applications.</li>
<li><code>pasteboard</code> - as an NSPasteboard type (see <code>hs.pasteboard</code>).</li>
<li><code>ostype</code>     - four character file type, most common pre OS X, but still used in some legacy APIs.</li>
</ul>
</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>the file UTI in the alternate format or nil if the UTI does not have an alternate of the specified type.</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L964">extensions/fs/libfs.m line 964</a></td>
              </tr>
            </table>
          </section>
          <section id="getFinderComments">
            <a name="//apple_ref/cpp/Function/getFinderComments" class="dashAnchor"></a>
            <h5><a href="#getFinderComments">getFinderComments</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.getFinderComments(path) -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Get the Finder comments for the file or directory at the specified path</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path - the path to the file or directory you wish to get the comments of</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>a string containing the Finder comments for the file or directory specified.  If no comments have been set for the file, returns an empty string.  If an error occurs, most commonly an invalid path, this function will throw a Lua error.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li>This function uses <code>hs.osascript</code> to access the file comments through AppleScript</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/fs.lua#L68">extensions/fs/fs.lua line 68</a></td>
              </tr>
            </table>
          </section>
          <section id="link">
            <a name="//apple_ref/cpp/Function/link" class="dashAnchor"></a>
            <h5><a href="#link">link</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.link(old, new[, symlink]) -&gt; true or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Creates a link</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>old - A string containing a path to a filesystem object to link from</li>
<li>new - A string containing a path to create the link at</li>
<li>symlink - An optional boolean, true to create a symlink, false to create a hard link. Defaults to false</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>True if the link was created, otherwise nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L348">extensions/fs/libfs.m line 348</a></td>
              </tr>
            </table>
          </section>
          <section id="lock">
            <a name="//apple_ref/cpp/Function/lock" class="dashAnchor"></a>
            <h5><a href="#lock">lock</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.lock(filehandle, mode[, start[, length]]) -&gt; true or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Locks a file, or part of it</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filehandle - An open file</li>
<li>mode - A string containing either &quot;r&quot; for a shared read lock, or &quot;w&quot; for an exclusive write lock</li>
<li>start - An optional number containing an offset into the file to start the lock at. Defaults to 0</li>
<li>length - An optional number containing the length of the file to lock. Defaults to the full size of the file</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>True if the lock was obtained successfully, otherwise nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L211">extensions/fs/libfs.m line 211</a></td>
              </tr>
            </table>
          </section>
          <section id="lockDir">
            <a name="//apple_ref/cpp/Function/lockDir" class="dashAnchor"></a>
            <h5><a href="#lockDir">lockDir</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.lockDir(path, [seconds_stale]) -&gt; lock or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Locks a directory</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path - A string containing the path to a directory</li>
<li>seconds_stale - An optional number containing an age (in seconds) beyond which to consider an existing lock as stale. Defaults to INT_MAX (which is, broadly speaking, equivalent to &quot;never&quot;)</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>If successful, a lock object, otherwise nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li>This is not a low level OS feature, the lock is actually a file created in the path, called <code>lockfile.lfs</code>, so the directory must be writable for this function to succeed</li>
<li>The returned lock object can be freed with <code>lock:free()</code></li>
<li>If the lock already exists and is not stale, the error string returned will be &quot;File exists&quot;</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L243">extensions/fs/libfs.m line 243</a></td>
              </tr>
            </table>
          </section>
          <section id="mkdir">
            <a name="//apple_ref/cpp/Function/mkdir" class="dashAnchor"></a>
            <h5><a href="#mkdir">mkdir</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.mkdir(dirname) -&gt; true or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Creates a new directory</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>dirname - A string containing the path of a directory to create</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>True if the directory was created, otherwise nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L384">extensions/fs/libfs.m line 384</a></td>
              </tr>
            </table>
          </section>
          <section id="pathFromBookmark">
            <a name="//apple_ref/cpp/Function/pathFromBookmark" class="dashAnchor"></a>
            <h5><a href="#pathFromBookmark">pathFromBookmark</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.pathFromBookmark(data) -&gt; string | nil, string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Gets the file path from a binary encoded bookmark.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>data - The binary encoded Bookmark.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A string containing the path to the Bookmark URL or <code>nil</code> if an error occurs.</li>
<li>An error message if an error occurs.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li>A bookmark provides a persistent reference to a file-system resource.
When you resolve a bookmark, you obtain a URL to the resource’s current location.
A bookmark’s association with a file-system resource (typically a file or folder)
usually continues to work if the user moves or renames the resource, or if the
user relaunches your app or restarts the system.</li>
<li>No volumes are mounted during the resolution of the bookmark data.</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L1080">extensions/fs/libfs.m line 1080</a></td>
              </tr>
            </table>
          </section>
          <section id="pathToAbsolute">
            <a name="//apple_ref/cpp/Function/pathToAbsolute" class="dashAnchor"></a>
            <h5><a href="#pathToAbsolute">pathToAbsolute</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.pathToAbsolute(filepath) -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Gets the absolute path of a given path</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - Any kind of file or directory path, be it relative or not</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A string containing the absolute path of <code>filepath</code> (i.e. one that doesn't include <code>.</code>, <code>..</code> or symlinks)</li>
<li>Note that symlinks will be resolved to their target file</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L1001">extensions/fs/libfs.m line 1001</a></td>
              </tr>
            </table>
          </section>
          <section id="pathToBookmark">
            <a name="//apple_ref/cpp/Function/pathToBookmark" class="dashAnchor"></a>
            <h5><a href="#pathToBookmark">pathToBookmark</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.pathToBookmark(path) -&gt; string | nil</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the path as binary encoded bookmark data.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path - The path to encode</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>Bookmark data in a binary encoded string or <code>nil</code> if path is invalid.</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L1049">extensions/fs/libfs.m line 1049</a></td>
              </tr>
            </table>
          </section>
          <section id="rmdir">
            <a name="//apple_ref/cpp/Function/rmdir" class="dashAnchor"></a>
            <h5><a href="#rmdir">rmdir</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.rmdir(dirname) -&gt; true or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Removes an existing directory</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>dirname - A string containing the path to a directory to remove</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>True if the directory was removed, otherwise nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L413">extensions/fs/libfs.m line 413</a></td>
              </tr>
            </table>
          </section>
          <section id="setFinderComments">
            <a name="//apple_ref/cpp/Function/setFinderComments" class="dashAnchor"></a>
            <h5><a href="#setFinderComments">setFinderComments</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.setFinderComments(path, comment) -&gt; boolean</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Set the Finder comments for the file or directory at the specified path to the comment specified</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path    - the path to the file or directory you wish to set the comments of</li>
<li>comment - a string specifying the comment to set.  If this parameter is missing or is an explicit nil, the existing comment is cleared.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>true on success; on error, most commonly an invalid path, this function will throw a Lua error.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li>This function uses <code>hs.osascript</code> to access the file comments through AppleScript</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/fs.lua#L95">extensions/fs/fs.lua line 95</a></td>
              </tr>
            </table>
          </section>
          <section id="symlinkAttributes">
            <a name="//apple_ref/cpp/Function/symlinkAttributes" class="dashAnchor"></a>
            <h5><a href="#symlinkAttributes">symlinkAttributes</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.symlinkAttributes (filepath [, aname]) -&gt; table or string or nil,error</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Gets the attributes of a symbolic link</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - A string containing the path of a link to inspect</li>
<li>aName - An optional attribute name. If this value is specified, only the attribute requested, is returned</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A table or string if the values could be found, otherwise nil and an error string.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li>The return values for this function are identical to those provided by <code>hs.fs.attributes()</code> with the following addition: the attribute name &quot;target&quot; is added and specifies a string containing the absolute path that the symlink points to.</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/fs.lua#L127">extensions/fs/fs.lua line 127</a></td>
              </tr>
            </table>
          </section>
          <section id="tagsAdd">
            <a name="//apple_ref/cpp/Function/tagsAdd" class="dashAnchor"></a>
            <h5><a href="#tagsAdd">tagsAdd</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.tagsAdd(filepath, tags)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Adds one or more tags to the Finder tags of a file</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - A string containing the path of a file</li>
<li>tags - A table containing one or more strings, each containing a tag name</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>true if the tags were updated; throws a lua error if an error occurs updating the tags</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L859">extensions/fs/libfs.m line 859</a></td>
              </tr>
            </table>
          </section>
          <section id="tagsGet">
            <a name="//apple_ref/cpp/Function/tagsGet" class="dashAnchor"></a>
            <h5><a href="#tagsGet">tagsGet</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.tagsGet(filepath) -&gt; table or nil</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Gets the Finder tags of a file</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - A string containing the path of a file</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A table containing the list of the file's tags, or nil if the file has no tags assigned; throws a lua error if an error accessing the file occurs</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L827">extensions/fs/libfs.m line 827</a></td>
              </tr>
            </table>
          </section>
          <section id="tagsRemove">
            <a name="//apple_ref/cpp/Function/tagsRemove" class="dashAnchor"></a>
            <h5><a href="#tagsRemove">tagsRemove</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.tagsRemove(filepath, tags)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Removes Finder tags from a file</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - A string containing the path of a file</li>
<li>tags - A table containing one or more strings, each containing a tag name</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>true if the tags were updated; throws a lua error if an error occurs updating the tags</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L903">extensions/fs/libfs.m line 903</a></td>
              </tr>
            </table>
          </section>
          <section id="tagsSet">
            <a name="//apple_ref/cpp/Function/tagsSet" class="dashAnchor"></a>
            <h5><a href="#tagsSet">tagsSet</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.tagsSet(filepath, tags)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Sets the Finder tags of a file, removing any that are already set</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - A string containing the path of a file</li>
<li>tags - A table containing zero or more strings, each containing a tag name</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>true if the tags were set; throws a lua error if an error occurs setting the new tags</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L882">extensions/fs/libfs.m line 882</a></td>
              </tr>
            </table>
          </section>
          <section id="temporaryDirectory">
            <a name="//apple_ref/cpp/Function/temporaryDirectory" class="dashAnchor"></a>
            <h5><a href="#temporaryDirectory">temporaryDirectory</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.temporaryDirectory() -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the path of the temporary directory for the current user.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>None</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>The path to the system designated temporary directory for the current user.</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L926">extensions/fs/libfs.m line 926</a></td>
              </tr>
            </table>
          </section>
          <section id="touch">
            <a name="//apple_ref/cpp/Function/touch" class="dashAnchor"></a>
            <h5><a href="#touch">touch</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.touch(filepath [, atime [, mtime]]) -&gt; true or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Updates the access and modification times of a file</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filepath - A string containing the path of a file to touch</li>
<li>atime - An optional number containing the new access time of the file to set (as seconds since the Epoch). Defaults to now</li>
<li>mtime - An optional number containing the new modification time of the file to set (as seconds since the Epoch). Defaults to the value of atime</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>True if the operation was successful, otherwise nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L601">extensions/fs/libfs.m line 601</a></td>
              </tr>
            </table>
          </section>
          <section id="unlock">
            <a name="//apple_ref/cpp/Function/unlock" class="dashAnchor"></a>
            <h5><a href="#unlock">unlock</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.unlock(filehandle[, start[, length]]) -&gt; true or (nil,error)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Unlocks a file or a part of it.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>filehandle - An open file</li>
<li>start - An optional number containing an offset from the start of the file, to unlock. Defaults to 0</li>
<li>length - An optional number containing the length of file to unlock. Defaults to the full size of the file</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>True if the unlock succeeded, otherwise nil and an error string</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L317">extensions/fs/libfs.m line 317</a></td>
              </tr>
            </table>
          </section>
          <section id="urlFromPath">
            <a name="//apple_ref/cpp/Function/urlFromPath" class="dashAnchor"></a>
            <h5><a href="#urlFromPath">urlFromPath</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.urlFromPath(path) -&gt; string | nil</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the encoded URL from a path.</p>
</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path - The path</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A string or <code>nil</code> if path is invalid.</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs.m#L1132">extensions/fs/libfs.m line 1132</a></td>
              </tr>
            </table>
          </section>
  </body>
</html>