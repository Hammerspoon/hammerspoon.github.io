<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hammerspoon docs: hs.battery</title>
    <style type="text/css">
      a { text-decoration: none; }
      a:hover { text-decoration: underline; }
      th { background-color: #DDDDDD; vertical-align: top; padding: 3px; }
      td { width: 100%; background-color: #EEEEEE; vertical-align: top; padding: 3px; }
      table { width: 100% ; border: 1px solid #0; text-align: left; }
      section > table table td { width: 0; }
    </style>
    <link rel="stylesheet" href="docs.css" type="text/css" media="screen" />
  </head>
  <body>
    <header>
      <h1><a href="./index.html">docs</a> &raquo; hs.battery</h1>
      <p>Battery/power information
All functions here may return nil, if the information requested is not available.</p>
<p>This module is based primarily on code from the previous incarnation of Mjolnir by <a href="https://github.com/sdegutis/">Steven Degutis</a>.</p>

      </header>
        <h3>Submodules</h3>
        <ul>
        <li><a href="hs.battery.watcher.html">hs.battery.watcher</a></li>
        </ul>
      <h3>API Overview</h3>
      <ul>
        <li>Functions - API calls offered directly by the extension</li>
          <ul>
            <li><a href="#amperage">amperage</a></li>
            <li><a href="#capacity">capacity</a></li>
            <li><a href="#cycles">cycles</a></li>
            <li><a href="#designCapacity">designCapacity</a></li>
            <li><a href="#getAll">getAll</a></li>
            <li><a href="#health">health</a></li>
            <li><a href="#healthCondition">healthCondition</a></li>
            <li><a href="#isCharged">isCharged</a></li>
            <li><a href="#isCharging">isCharging</a></li>
            <li><a href="#isFinishingCharge">isFinishingCharge</a></li>
            <li><a href="#maxCapacity">maxCapacity</a></li>
            <li><a href="#name">name</a></li>
            <li><a href="#percentage">percentage</a></li>
            <li><a href="#powerSource">powerSource</a></li>
            <li><a href="#psuSerial">psuSerial</a></li>
            <li><a href="#timeRemaining">timeRemaining</a></li>
            <li><a href="#timeToFullCharge">timeToFullCharge</a></li>
            <li><a href="#voltage">voltage</a></li>
            <li><a href="#watts">watts</a></li>
          </ul>
      </ul>
      <h3>API Documentation</h3>
        <h4 class="documentation-section">Functions</h4>
          <section id="amperage">
            <a name="//apple_ref/cpp/Function/amperage" class="dashAnchor"></a>
            <h5><a href="#amperage">amperage</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.amperage() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the amount of current flowing through the battery, in mAh</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the amount of current flowing through the battery. The value may be:<ul>
<li>Less than zero if the battery is being discharged (i.e. the computer is running on battery power)</li>
<li>Zero if the battery is being neither charged nor discharged</li>
<li>Greater than zero if the battery is being charged</li>
</ul>
</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="capacity">
            <a name="//apple_ref/cpp/Function/capacity" class="dashAnchor"></a>
            <h5><a href="#capacity">capacity</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.capacity() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the current capacity of the battery in mAh</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the current capacity of the battery in mAh</li>
</ul>
<p>Notes:</p>
<ul>
<li>This is the measure of how charged the battery is, vs the value of <code>hs.battery.maxCapacity()</code></li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="cycles">
            <a name="//apple_ref/cpp/Function/cycles" class="dashAnchor"></a>
            <h5><a href="#cycles">cycles</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.cycles() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the number of discharge cycles of the battery</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>The number of cycles</li>
</ul>
<p>Notes:</p>
<ul>
<li>One cycle is a full discharge of the battery, followed by a full charge. This may also be an aggregate of many smaller discharge-then-charge cycles (e.g. 10 iterations of discharging the battery from 100% to 90% and then charging back to 100% each time, is considered to be one cycle)</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="designCapacity">
            <a name="//apple_ref/cpp/Function/designCapacity" class="dashAnchor"></a>
            <h5><a href="#designCapacity">designCapacity</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.designCapacity() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the design capacity of the battery in mAh.</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the rated maximum capacity of the battery</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="getAll">
            <a name="//apple_ref/cpp/Function/getAll" class="dashAnchor"></a>
            <h5><a href="#getAll">getAll</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.getAll() -&gt; table</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Get all available battery information</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A table containing all the information provided by the separate functions in hs.battery</li>
</ul>
<p>Notes:</p>
<ul>
<li>If you require multiple pieces of information about a battery, this function may be more efficient than calling several other functions separately</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="health">
            <a name="//apple_ref/cpp/Function/health" class="dashAnchor"></a>
            <h5><a href="#health">health</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.health() -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the health status of the battery.</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A string containing one of {Good, Fair, Poor}, as determined by the Apple Smart Battery controller</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="healthCondition">
            <a name="//apple_ref/cpp/Function/healthCondition" class="dashAnchor"></a>
            <h5><a href="#healthCondition">healthCondition</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.healthCondition() -&gt; string or nil</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the health condition status of the battery.</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>Nil if there are no health conditions to report, or a string containing either:<ul>
<li>"Check Battery"</li>
<li>"Permanent Battery Failure"</li>
</ul>
</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="isCharged">
            <a name="//apple_ref/cpp/Function/isCharged" class="dashAnchor"></a>
            <h5><a href="#isCharged">isCharged</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.isCharged() -&gt; boolean</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the charged state of the battery</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>True if the battery is charged, false if not</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="isCharging">
            <a name="//apple_ref/cpp/Function/isCharging" class="dashAnchor"></a>
            <h5><a href="#isCharging">isCharging</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.isCharging() -&gt; boolean</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the charging state of the battery</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>True if the battery is being charged, false if not</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="isFinishingCharge">
            <a name="//apple_ref/cpp/Function/isFinishingCharge" class="dashAnchor"></a>
            <h5><a href="#isFinishingCharge">isFinishingCharge</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.isFinishingCharge() -&gt; boolean or string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns true if battery is finishing its charge</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>True if the battery is in its final charging state (i.e. trickle charging), false if not, or "n/a" if the battery is not charging at all</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="maxCapacity">
            <a name="//apple_ref/cpp/Function/maxCapacity" class="dashAnchor"></a>
            <h5><a href="#maxCapacity">maxCapacity</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.maxCapacity() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the maximum capacity of the battery in mAh</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the observed maximum capacity of the battery in mAh</li>
</ul>
<p>Notes:</p>
<ul>
<li>This may exceed the value of <code>hs.battery.designCapacity()</code> due to small variations in the production chemistry vs the design</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="name">
            <a name="//apple_ref/cpp/Function/name" class="dashAnchor"></a>
            <h5><a href="#name">name</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.name() -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the name of the battery</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A string containing the name of the battery</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="percentage">
            <a name="//apple_ref/cpp/Function/percentage" class="dashAnchor"></a>
            <h5><a href="#percentage">percentage</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.percentage() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the current percentage of battery charge</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the percentage of battery charge</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="powerSource">
            <a name="//apple_ref/cpp/Function/powerSource" class="dashAnchor"></a>
            <h5><a href="#powerSource">powerSource</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.powerSource() -&gt; string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns current source of power</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A string containing one of {AC Power, Battery Power, Off Line}.</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="psuSerial">
            <a name="//apple_ref/cpp/Function/psuSerial" class="dashAnchor"></a>
            <h5><a href="#psuSerial">psuSerial</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.psuSerial() -&gt; integer</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the serial number of the attached power supply, if present</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>An integer containing the power supply's serial number, or 0 if no serial can be found</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="timeRemaining">
            <a name="//apple_ref/cpp/Function/timeRemaining" class="dashAnchor"></a>
            <h5><a href="#timeRemaining">timeRemaining</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.timeRemaining() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the battery life remaining, in minutes</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the minutes of battery life remaining. The value may be:<ul>
<li>Greater than zero to indicate the number of minutes remaining</li>
<li>-1 if the remaining battery life is still being calculated</li>
<li>-2 if there is unlimited time remaining (i.e. the system is on AC power)</li>
</ul>
</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="timeToFullCharge">
            <a name="//apple_ref/cpp/Function/timeToFullCharge" class="dashAnchor"></a>
            <h5><a href="#timeToFullCharge">timeToFullCharge</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.timeToFullCharge() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the time remaining for the battery to be fully charged, in minutes</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the time (in minutes) remaining for the battery to be fully charged, or -1 if the remaining time is still being calculated</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="voltage">
            <a name="//apple_ref/cpp/Function/voltage" class="dashAnchor"></a>
            <h5><a href="#voltage">voltage</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.voltage() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the current voltage of the battery in mV</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the current voltage of the battery</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="watts">
            <a name="//apple_ref/cpp/Function/watts" class="dashAnchor"></a>
            <h5><a href="#watts">watts</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.battery.watts() -&gt; number</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Returns the power entering or leaving the battery, in W</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A number containing the rate of energy conversion in the battery. The value may be:<ul>
<li>Less than zero if the battery is being discharged (i.e. the computer is running on battery power)</li>
<li>Zero if the battery is being neither charged nor discharged</li>
<li>Greater than zero if the battery is being charged</li>
</ul>
</li>
</ul>
</td>
              </tr>
            </table>
          </section>
  </body>
</html>