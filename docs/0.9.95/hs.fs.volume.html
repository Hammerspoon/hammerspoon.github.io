<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hammerspoon docs: hs.fs.volume</title>
    <style type="text/css">
      a { text-decoration: none; }
      a:hover { text-decoration: underline; }
      th { background-color: #DDDDDD; vertical-align: top; padding: 3px; }
      td { width: 100%; background-color: #EEEEEE; vertical-align: top; padding: 3px; }
      table { width: 100% ; border: 1px solid #0; text-align: left; }
      section > table table td { width: 0; }
    </style>
    <link rel="stylesheet" href="docs.css" type="text/css" media="screen" />
  </head>
  <body>
    <header>
      <h1><a href="./index.html">docs</a> &raquo; hs.fs.volume</h1>
      <p>Interact with OS X filesystem volumes</p>
<p>This is distinct from hs.fs in that hs.fs deals with UNIX filesystem operations, while hs.fs.volume interacts with the higher level OS X concept of volumes</p>

      </header>
      <h3>API Overview</h3>
      <ul>
        <li>Constants - Useful values which cannot be changed</li>
          <ul>
            <li><a href="#didMount">didMount</a></li>
            <li><a href="#didRename">didRename</a></li>
            <li><a href="#didUnmount">didUnmount</a></li>
            <li><a href="#willUnmount">willUnmount</a></li>
          </ul>
        <li>Functions - API calls offered directly by the extension</li>
          <ul>
            <li><a href="#allVolumes">allVolumes</a></li>
            <li><a href="#eject">eject</a></li>
          </ul>
        <li>Constructors - API calls which return an object, typically one that offers API methods</li>
          <ul>
            <li><a href="#new">new</a></li>
          </ul>
        <li>Methods - API calls which can only be made on an object returned by a constructor</li>
          <ul>
            <li><a href="#start">start</a></li>
            <li><a href="#stop">stop</a></li>
          </ul>
      </ul>
      <h3>API Documentation</h3>
        <h4 class="documentation-section">Constants</h4>
          <section id="didMount">
            <a name="//apple_ref/cpp/Constant/didMount" class="dashAnchor"></a>
            <h5><a href="#didMount">didMount</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume.didMount</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Constant</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>A volume was mounted</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs_volume.m#L12">extensions/fs/libfs_volume.m line 12</a></td>
              </tr>
            </table>
          </section>
          <section id="didRename">
            <a name="//apple_ref/cpp/Constant/didRename" class="dashAnchor"></a>
            <h5><a href="#didRename">didRename</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume.didRename</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Constant</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>A volume changed either its name or mountpoint (or more likely, both)</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs_volume.m#L24">extensions/fs/libfs_volume.m line 24</a></td>
              </tr>
            </table>
          </section>
          <section id="didUnmount">
            <a name="//apple_ref/cpp/Constant/didUnmount" class="dashAnchor"></a>
            <h5><a href="#didUnmount">didUnmount</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume.didUnmount</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Constant</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>A volume was unmounted</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs_volume.m#L16">extensions/fs/libfs_volume.m line 16</a></td>
              </tr>
            </table>
          </section>
          <section id="willUnmount">
            <a name="//apple_ref/cpp/Constant/willUnmount" class="dashAnchor"></a>
            <h5><a href="#willUnmount">willUnmount</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume.willUnmount</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Constant</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>A volume is about to be unmounted</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs_volume.m#L20">extensions/fs/libfs_volume.m line 20</a></td>
              </tr>
            </table>
          </section>
        <h4 class="documentation-section">Functions</h4>
          <section id="allVolumes">
            <a name="//apple_ref/cpp/Function/allVolumes" class="dashAnchor"></a>
            <h5><a href="#allVolumes">allVolumes</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume.allVolumes([showHidden]) -&gt; table</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>Returns a table of information about disk volumes attached to the system</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>showHidden - An optional boolean, true to show hidden volumes, false to not show hidden volumes. Defaults to false.</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A table of information, where the keys are the paths of disk volumes</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Notes</th>
                  <td><ul>
<li>This is an alias for <code>hs.host.volumeInformation()</code></li>
<li>The possible keys in the table are:</li>
<li>NSURLVolumeTotalCapacityKey - Size of the volume in bytes</li>
<li>NSURLVolumeAvailableCapacityKey - Available space on the volume in bytes</li>
<li>NSURLVolumeIsAutomountedKey - Boolean indicating if the volume was automounted</li>
<li>NSURLVolumeIsBrowsableKey - Boolean indicating if the volume can be browsed</li>
<li>NSURLVolumeIsEjectableKey - Boolean indicating if the volume should be ejected before its media is removed</li>
<li>NSURLVolumeIsInternalKey - Boolean indicating if the volume is an internal drive or an external drive</li>
<li>NSURLVolumeIsLocalKey - Boolean indicating if the volume is a local or remote drive</li>
<li>NSURLVolumeIsReadOnlyKey - Boolean indicating if the volume is read only</li>
<li>NSURLVolumeIsRemovableKey - Boolean indicating if the volume's media can be physically ejected from the drive (e.g. a DVD)</li>
<li>NSURLVolumeMaximumFileSizeKey - Maximum file size the volume can support, in bytes</li>
<li>NSURLVolumeUUIDStringKey - The UUID of volume's filesystem</li>
<li>NSURLVolumeURLForRemountingKey - For remote volumes, the network URL of the volume</li>
<li>NSURLVolumeLocalizedNameKey - Localized version of the volume's name</li>
<li>NSURLVolumeNameKey - The volume's name</li>
<li>NSURLVolumeLocalizedFormatDescriptionKey - Localized description of the volume</li>
<li>Not all keys will be present for all volumes</li>
<li>The meanings of NSURLVolumeIsEjectableKey and NSURLVolumeIsRemovableKey are not generally useful for determining if a drive is removable in the modern sense (e.g. a USB drive) as much of this terminology dates back to when USB didn't exist and removable drives were things like Floppy/DVD drives. If you're trying to determine if a drive is not fixed into the computer, you may need to use a combination of these keys, but which exact combination you should use, is not consistent across macOS versions.</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/fs.lua#L35">extensions/fs/fs.lua line 35</a></td>
              </tr>
            </table>
          </section>
          <section id="eject">
            <a name="//apple_ref/cpp/Function/eject" class="dashAnchor"></a>
            <h5><a href="#eject">eject</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume.eject(path) -&gt; boolean,string</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>Unmounts and ejects a volume</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>path - An absolute path to the volume you wish to eject</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>A boolean, true if the volume was ejected, otherwise false</li>
<li>A string, empty if the volume was ejected, otherwise it will contain the error message</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs_volume.m#L120">extensions/fs/libfs_volume.m line 120</a></td>
              </tr>
            </table>
          </section>
        <h4 class="documentation-section">Constructors</h4>
          <section id="new">
            <a name="//apple_ref/cpp/Constructor/new" class="dashAnchor"></a>
            <h5><a href="#new">new</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume.new(fn) -&gt; watcher</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Constructor</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>Creates a watcher object for volume events</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>fn - A function that will be called when volume events happen. It should accept two parameters:<ul>
<li>An event type (see the constants defined above)</li>
<li>A table that will contain relevant information</li>
</ul>
</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>An <code>hs.fs.volume</code> object</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs_volume.m#L148">extensions/fs/libfs_volume.m line 148</a></td>
              </tr>
            </table>
          </section>
        <h4 class="documentation-section">Methods</h4>
          <section id="start">
            <a name="//apple_ref/cpp/Method/start" class="dashAnchor"></a>
            <h5><a href="#start">start</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume:start()</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>Starts the volume watcher</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>None</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>An <code>hs.fs.volume</code> object</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs_volume.m#L208">extensions/fs/libfs_volume.m line 208</a></td>
              </tr>
            </table>
          </section>
          <section id="stop">
            <a name="//apple_ref/cpp/Method/stop" class="dashAnchor"></a>
            <h5><a href="#stop">stop</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.fs.volume:stop()</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Method</td>
              </tr>
              <tr>
                <th>Description</th>
                <td>Stops the volume watcher</td>
              </tr>
              <tr>
                  <th>Parameters</th>
                  <td><ul>
<li>None</li>
</ul>
</td>
              </tr>
              <tr>
                  <th>Returns</th>
                  <td><ul>
<li>An <code>hs.fs.volume</code> object</li>
</ul>
</td>
              </tr>
              <tr>
                <th>Source</th>
                <td><a href="https://github.com/Hammerspoon/hammerspoon/blob/master/extensions/fs/libfs_volume.m#L232">extensions/fs/libfs_volume.m line 232</a></td>
              </tr>
            </table>
          </section>
  </body>
</html>