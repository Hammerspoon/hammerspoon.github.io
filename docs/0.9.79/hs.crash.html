<html>
    <head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>Hammerspoon docs: hs.crash</title>
    <style type="text/css">
      a { text-decoration: none; }
      a:hover { text-decoration: underline; }
      th { background-color: #DDDDDD; vertical-align: top; padding: 3px; }
      td { width: 100%; background-color: #EEEEEE; vertical-align: top; padding: 3px; }
      table { width: 100% ; border: 1px solid #0; text-align: left; }
      section > table table td { width: 0; }
    </style>
    <link rel="stylesheet" href="docs.css" type="text/css" media="screen" />
  </head>
  <body>
    <header>
      <h1><a href="./index.html">docs</a> &raquo; hs.crash</h1>
      <p>Various features/facilities for developers who are working on Hammerspoon itself, or writing extensions for it. It is extremely unlikely that you should need any part of this extension, in a normal user configuration.</p>

      </header>
      <h3>API Overview</h3>
      <ul>
        <li>Functions - API calls offered directly by the extension</li>
          <ul>
            <li><a href="#attemptMemoryRelease">attemptMemoryRelease</a></li>
            <li><a href="#crash">crash</a></li>
            <li><a href="#crashKV">crashKV</a></li>
            <li><a href="#crashLog">crashLog</a></li>
            <li><a href="#dumpCLIBS">dumpCLIBS</a></li>
            <li><a href="#residentSize">residentSize</a></li>
            <li><a href="#throwObjCException">throwObjCException</a></li>
          </ul>
      </ul>
      <h3>API Documentation</h3>
        <h4 class="documentation-section">Functions</h4>
          <section id="attemptMemoryRelease">
            <a name="//apple_ref/cpp/Function/attemptMemoryRelease" class="dashAnchor"></a>
            <h5><a href="#attemptMemoryRelease">attemptMemoryRelease</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.crash.attemptMemoryRelease()</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Attempts to reduce RAM usage of Hammerspoon</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>None</li>
</ul>
<p>Notes:</p>
<ul>
<li>This function will print some memory usage numbers (in bytes) to the Hammerspoon Console before and after forcing Lua's garbage collector</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="crash">
            <a name="//apple_ref/cpp/Function/crash" class="dashAnchor"></a>
            <h5><a href="#crash">crash</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.crash.crash()</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Causes Hammerspoon to immediately crash</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>None</li>
</ul>
<p>Notes:</p>
<ul>
<li>This is for testing purposes only, you are extremely unlikely to need this in normal Hammerspoon usage</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="crashKV">
            <a name="//apple_ref/cpp/Function/crashKV" class="dashAnchor"></a>
            <h5><a href="#crashKV">crashKV</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.crash.crashKV(key, value)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Sets a key/value pair in any Sentry crash dump generated by this Hamerspoon session</p>
<p>Parameters:</p>
<ul>
<li>key - A string containing the key name of the pair</li>
<li>value - A string containing the value of the pair</li>
</ul>
<p>Returns:</p>
<ul>
<li>None</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="crashLog">
            <a name="//apple_ref/cpp/Function/crashLog" class="dashAnchor"></a>
            <h5><a href="#crashLog">crashLog</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.crash.crashLog(logMessage)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Leaves a breadcrumb log message in any Sentry crash dump generated by this Hammerspoon session</p>
<p>Parameters:</p>
<ul>
<li>logMessage - A string containing a message to log</li>
</ul>
<p>Returns:</p>
<ul>
<li>None</li>
</ul>
<p>Notes:</p>
<ul>
<li>This is probably only useful to extension developers. If you are trying to track down a confusing crash, and you have access to the Sentry project for Hammerspoon (or access to someone who has access!), this can be a useful way to leave breadcrumbs from Lua in the crash dump</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="dumpCLIBS">
            <a name="//apple_ref/cpp/Function/dumpCLIBS" class="dashAnchor"></a>
            <h5><a href="#dumpCLIBS">dumpCLIBS</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.crash.dumpCLIBS() -&gt; table</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Dumps the contents of Lua's CLIBS registry</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>A table containing all the paths of C libraries that have been loaded into the Lua runtime</li>
</ul>
<p>Notes:</p>
<ul>
<li>This is probably only useful to extension developers as a useful way of ensuring that you are loading C libraries from the places you expect.</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="residentSize">
            <a name="//apple_ref/cpp/Function/residentSize" class="dashAnchor"></a>
            <h5><a href="#residentSize">residentSize</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.crash.residentSize() -&gt; integer or nil</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Gets the resident size of the Hammerspoon process</p>
<p>Parameters:</p>
<ul>
<li>None</li>
</ul>
<p>Returns:</p>
<ul>
<li>An integer containing the amount of RAM in use by Hammerspoon (in bytes), or nil if an error occurred</li>
</ul>
</td>
              </tr>
            </table>
          </section>
          <section id="throwObjCException">
            <a name="//apple_ref/cpp/Function/throwObjCException" class="dashAnchor"></a>
            <h5><a href="#throwObjCException">throwObjCException</a></h5>
            <table>
              <tr>
                <th>Signature</th>
                <td><code>hs.crash.throwObjCException(name, message)</code></td>
              </tr>
              <tr>
                <th>Type</th>
                <td>Function</td>
              </tr>
              <tr>
                <th>Description</th>
                <td><p>Causes Hammerspoon to generate an Objective C exception</p>
<p>Parameters:</p>
<ul>
<li>name - A string containing the name of the exception</li>
<li>message - A human readabke string explaining the exception</li>
</ul>
<p>Returns:</p>
<ul>
<li>None</li>
</ul>
<p>Notes:</p>
<ul>
<li>Outside of a context of a Lua pcall() (or a C lua_pcall()), this will cause Hammerspoon to exit. We follow the safe behaviour of terminating the app on any unhandled Objective C exception.</li>
</ul>
</td>
              </tr>
            </table>
          </section>
  </body>
</html>